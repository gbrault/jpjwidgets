# jpjwidgets
Jupyter Python+Javascript Widgets: link javascript variables with Kernel Python variables and vice-versa.

jpjwidgets is not a replacement<sup>1</sup> for ipywidgets, it is just a complement which fill some gaps and brings some 'innovations'

  * The most differentiating feature is that jpjwidgets brings a REST API, build by the application designer, embedded in the notebook
      * Using the jupyter server proxy  
      * With the above feature, its possible to to fill the gap Jupyter Lab had (by design): communicate from javascript browser to the python kernel off-the-shelf
      * This HTTP communciation is safe as based upon the security framework of jupyter lab
      * the notebook is at the same time
        * A Jupyter IPython notebook
        * A REST API (which can also serve some web pages or files if needed)
      * This web server attached to a notebook can also be used to load dynamically javascript modules
  * **Please use UI widgets from ipywidgets**: jpjwidgets project will not develop that (the range widget is just a POC)

## If you want

* to copy browser's javascript variables to IPython kernel variable
* to set some browser's variable based upon IPython kernel variable
* feed the notebook with pictures from your smartphone live (implementation not provided here)

## Examples

* get the current calling Notebook url in a python variable
* get the browser Geo Position (if the user accepts) in a Python variable

## Architecture

* Javascript is simply generated thanks to the _repr_javascript_ capability of IPython Notebook
   * this allows to set whatever javascript variable from a notebook programmatically
   * it can also be generated by the HTML function of IPython.display module
* Writing back javascript values to the notebook via the HTTP server
   * this allows to set whatever python IPython kernel variable with javascript Browser values
   * callback can also be implemented to change the state of the notebook when variable are received

## Install

* **Base Framework**: Jupyter Lab + Jupyter ipywidgets + Jupyter Server proxy
* **Copy**: notebook, python file and subdirectories widgets and modules -- just for LoadJavascriptModules (including content) in a Jupyter Lab directory
* create the widgets directory in the above (if not created for LoadJavascriptModules)
* git clone might be a friend for the above
* **Run**: The notebooks

## Notebooks and Python file

| Notebook | features |
| -------- | -------- |
| LeanGettingStarted.ipynb | Getting Started example to retrieve the Notebook url in a python variable |
| javascriptwidgets.ipynb | Three examples: Notebook url, Browser Geo position, a slider Range UI |
| LoadingJavascriptModules.ipynb | Show case for loading javascript modules [see Basic-Modules](https://github.com/mdn/js-examples/tree/master/modules/basic-modules) and [MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules) |
| httpserver.py | A python script to help managing a python based HttpServer [see](https://docs.python.org/3/library/http.server.html) |

## Documentation

* Read the notebooks notes
* read the python file comments if you want to dig the HTTP server operations

## Notice

* Don't forget to stop the HTTP server, best is to shutdown the IPython kernel, as the used port will generate an issue elsewhere.
* you can select the port when launching a server, just add port=xxxx to the start function

(1) This clarification was requested by [@krassowski](https://github.com/krassowski) [see](https://github.com/jupyterlab/jupyterlab/issues/5660#issuecomment-944889747)
